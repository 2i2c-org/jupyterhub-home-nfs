# NFS Ganesha configuration
# NFS Ganesha is the user space NFS server that we use to serve the home directories

nfsServer:
  image:
    repository: ghcr.io/2i2c-org/nfs-ganesha
    tag: 0.0.7
  resources: {}

# Quota enforcer configuration
# This container enforces the quota on the home directories

quotaEnforcer:
  image:
    repository: ghcr.io/2i2c-org/jupyterhub-home-nfs
    tag: 0.0.7
  
  # The entire configuration file content as a multi-line string.
  # If this is defined, the individual parameters below will be ignored
  # and we will use the content of this file instead for configuration.
  # If this is not defined, the individual parameters below will be used
  # as command-line arguments
  # 
  # Example:
  # config_file: |
  #   # Configuration file for the quota enforcer
  #
  #   # Path to scan for home directories
  #   c.QuotaManager.paths = ["/export"]
  #   
  #   # Hard quota limit in GB
  #   c.QuotaManager.hard_quota = 10
  #   
  #   # Wait time between reconciliation runs in seconds
  #   c.QuotaManager.wait_time = 30
  #   
  #   # Minimum project ID to use
  #   c.QuotaManager.min_projid = 1000
  #   
  #   # Projects file path
  #   c.QuotaManager.projects_file = "/etc/projects"
  #   
  #   # Projid file path
  #   c.QuotaManager.projid_file = "/etc/projid"
  #   
  #   # List of directory names to exclude from quota enforcement
  #   c.QuotaManager.exclude = []
  config_file: ""

  # Individual configuration parameters used when config_file is not defined.
  # These will be used as command-line arguments.
  # Mostly kept for backward compatibility. Please use config_file instead.
  path: "/export"
  # quota in GB
  hardQuota: "10"
  exclude: []
  # end of individual configuration parameters

  resources: {}

# Prometheus exporter configuration
# We export disk usage metrics using the Prometheus node exporter

prometheusExporter:
  enabled: true
  image:
    repository: quay.io/prometheus/node-exporter
    tag: v1.8.2
  resources: {}

# Persistent volume configuration

persistentVolume:
  # The size should match the pre-provisioned disk size
  # The pre-provisioned disk ID is specified below in the cloud provider specific configuration
  size: 10Gi
  storageClass: ""
  accessModes:
    - ReadWriteOnce
  annotations: {}

service:
  type: ClusterIP

# Cloud provider specific configurations
eks:
  enabled: false
  volumeId: "your-eks-volume-id"

gke:
  enabled: false
  volumeId: "your-gke-volume-id"

openstack:
  enabled: false
  volumeId: "your-openstack-volume-id"
